{
	"actorSpecification": 1,
	"fields": {
		"type": "object",
		"properties": {
			"domain": {
				"type": "object",
				"description": "Aggregated statistics and analysis for the entire domain"
			},
			"pages": {
				"type": "array",
				"description": "Detailed analysis results for each analyzed page"
			},
			"analysis": {
				"type": "object",
				"description": "Metadata about the analysis run"
			}
		}
	},
	"views": {
		"overview": {
			"title": "Overview",
			"description": "Overview of heading analysis results",
			"transformation": {
				"fields": [
					"domain.domain_name",
					"domain.total_pages_analyzed",
					"domain.total_headings",
					"domain.total_h1",
					"domain.total_h2",
					"domain.total_h3",
					"domain.average_heading_score",
					"domain.pages_with_h1_percentage",
					"domain.pages_with_good_structure_percentage",
					"domain.total_heading_issues",
					"domain.critical_issues",
					"domain.warning_issues"
				],
				"flatten": ["domain"]
			},
			"display": {
				"component": "table",
				"properties": {
					"domain.domain_name": {
						"label": "Domain",
						"format": "text"
					},
					"domain.total_pages_analyzed": {
						"label": "Pages Analyzed",
						"format": "number"
					},
					"domain.total_headings": {
						"label": "Total Headings",
						"format": "number"
					},
					"domain.total_h1": {
						"label": "H1 Count",
						"format": "number"
					},
					"domain.total_h2": {
						"label": "H2 Count",
						"format": "number"
					},
					"domain.total_h3": {
						"label": "H3 Count",
						"format": "number"
					},
					"domain.average_heading_score": {
						"label": "Average Score",
						"format": "number"
					},
					"domain.pages_with_h1_percentage": {
						"label": "Pages with H1 (%)",
						"format": "number"
					},
					"domain.pages_with_good_structure_percentage": {
						"label": "Good Structure (%)",
						"format": "number"
					},
					"domain.total_heading_issues": {
						"label": "Total Issues",
						"format": "number"
					},
					"domain.critical_issues": {
						"label": "Critical Issues",
						"format": "number"
					},
					"domain.warning_issues": {
						"label": "Warnings",
						"format": "number"
					}
				}
			}
		},
		"pages": {
			"title": "Pages Detail",
			"description": "Detailed heading analysis for each page",
			"transformation": {
				"fields": [
					"url",
					"pageTitle",
					"pageStatusCode",
					"h1Count",
					"h2Count",
					"h3Count",
					"totalHeadings",
					"headingScore",
					"headingIssues",
					"headingRecommendations"
				],
				"unwind": ["pages"]
			},
			"display": {
				"component": "table",
				"properties": {
					"url": {
						"label": "Page URL",
						"format": "link"
					},
					"pageTitle": {
						"label": "Page Title",
						"format": "text"
					},
					"pageStatusCode": {
						"label": "Status",
						"format": "number"
					},
					"h1Count": {
						"label": "H1 Count",
						"format": "number"
					},
					"h2Count": {
						"label": "H2 Count",
						"format": "number"
					},
					"h3Count": {
						"label": "H3 Count",
						"format": "number"
					},
					"totalHeadings": {
						"label": "Total Headings",
						"format": "number"
					},
					"headingScore": {
						"label": "SEO Score",
						"format": "number"
					},
					"headingIssues": {
						"label": "Issues",
						"format": "array"
					},
					"headingRecommendations": {
						"label": "Recommendations",
						"format": "array"
					}
				}
			}
		},
		"detailed": {
			"title": "Detailed Headings",
			"description": "Detailed heading structure for each page",
			"transformation": {
				"fields": [
					"url",
					"pageTitle",
					"h1",
					"h2",
					"h3",
					"h4",
					"h5",
					"h6",
					"headingStructure"
				],
				"unwind": ["pages"]
			},
			"display": {
				"component": "table",
				"properties": {
					"url": {
						"label": "Page URL",
						"format": "link"
					},
					"pageTitle": {
						"label": "Page Title",
						"format": "text"
					},
					"h1": {
						"label": "H1 Tags",
						"format": "array"
					},
					"h2": {
						"label": "H2 Tags",
						"format": "array"
					},
					"h3": {
						"label": "H3 Tags",
						"format": "array"
					},
					"h4": {
						"label": "H4 Tags",
						"format": "array"
					},
					"h5": {
						"label": "H5 Tags",
						"format": "array"
					},
					"h6": {
						"label": "H6 Tags",
						"format": "array"
					},
					"headingStructure": {
						"label": "Heading Structure",
						"format": "array"
					}
				}
			}
		}
	}
}
